{% extends "base.html" %}

{% block title %}⋆.˚ Home - Typo Blog{% endblock %}

{% block content %}
    <h1 class="page-title">Recent Posts ♡𐙚⋆°｡⋆</h1>
    {% if posts %}
        <div class="post-grid">
        {% for post in posts %}
            <article class="post">
                <div class="post-header">
                    <h2 class="post-title">{{ post.title }}</h2>
                    <div class="post-meta">
                        Created: {{ post.created_at.split('T')[0] }} at {{ post.created_at.split('T')[1][:5] }}
                    </div>
                </div>
                {% if post.image_path %}
                <div class="post-image">
                    <img src="{{ url_for('static', filename=post.image_path) }}" alt="{{ post.title }}">
                </div>
                {% endif %}
                <div class="post-content">
                    {{ post.content }}
                </div>
                <div class="post-actions">
                    <a href="{{ url_for('edit_post_page', post_id=post.id) }}" class="btn btn-primary">Edit</a>
                    <form action="{{ url_for('delete_post', post_id=post.id) }}" method="POST" class="delete-form">
                        <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this post?')">Delete</button>
                    </form>
                </div>
            </article>
        {% endfor %}
    {% else %}
        <div class="no-posts">
            <p>No posts yet. ✧ Why not <a href="{{ url_for('create_post_page') }}">create one</a>? ✧</p>
        </div>
    {% endif %}
{% endblock %}
