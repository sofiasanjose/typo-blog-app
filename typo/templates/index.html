{% extends "base.html" %}

{% block title %}Home - Typo Blog{% endblock %}

{% block content %}
    <h1>Recent Posts</h1>
    {% if posts %}
        {% for post in posts %}
            <article class="post">
                <h2 class="post-title">{{ post.title }}</h2>
                <div class="post-meta">Posted on {{ post.created_at[:10] }}</div>
                <div class="post-content">
                    {{ post.content }}
                </div>
                <div class="post-actions" style="margin-top: 1rem;">
                    <a href="{{ url_for('edit_post_page', post_id=post.id) }}" class="btn btn-primary">Edit</a>
                    <form action="{{ url_for('delete_post', post_id=post.id) }}" method="POST" style="display: inline;">
                        <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this post?')">Delete</button>
                    </form>
                </div>
            </article>
        {% endfor %}
    {% else %}
        <p>No posts yet. Why not <a href="{{ url_for('create_post_page') }}">create one</a>?</p>
    {% endif %}
{% endblock %}
